webpackJsonp([13],{1030:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"crumbs"},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[r("i",{staticClass:"el-icon-time"}),e._v(" 产品信息管理设置")]),e._v(" "),r("el-breadcrumb-item",[e._v("新增")])],1)],1),e._v(" "),r("div",{staticClass:"form-box"},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"票名",prop:"name",rules:[{required:!0,message:"票名不能为空"}]}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.form.name=t},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"所属景区",prop:"viewName",rules:[{required:!0,message:"所属景区不能为空"}]}},[r("el-select",{attrs:{placeholder:"请选择"},on:{change:e.handleChange1},model:{value:e.form.viewName,callback:function(t){e.form.viewName=t},expression:"form.viewName"}},e._l(e.view,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"供应商",prop:"supplierName",rules:[{required:!0,message:"供应商不能为空"}]}},[r("el-select",{attrs:{placeholder:"请选择"},on:{change:e.handleChange2},model:{value:e.form.supplierName,callback:function(t){e.form.supplierName=t},expression:"form.supplierName"}},e._l(e.supplier,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"结算价",prop:"endPrice",rules:[{required:!0,message:"结算价不能为空"}]}},[r("el-input",{attrs:{type:"number"},model:{value:e.form.endPrice,callback:function(t){e.form.endPrice=t},expression:"form.endPrice"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"门市价",prop:"marketPrice",rules:[{required:!0,message:"门市价不能为空"}]}},[r("el-input",{attrs:{type:"number"},model:{value:e.form.marketPrice,callback:function(t){e.form.marketPrice=t},expression:"form.marketPrice"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否销售",prop:"isSale"}},[r("el-switch",{attrs:{"on-text":"是","off-text":"否","on-color":"#13ce66","off-color":"#ff4949","on-value":"是","off-value":"否"},on:{change:e.switch1},model:{value:e.form.isSale,callback:function(t){e.form.isSale=t},expression:"form.isSale"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"门票类型",prop:"type",rules:[{required:!0,message:"门票类型不能为空"}]}},[r("el-select",{attrs:{placeholder:"请选择"},on:{change:e.handleChange3},model:{value:e.form.type,callback:function(t){e.form.type=t},expression:"form.type"}},e._l(e.typeList,function(e){return r("el-option",{key:e.id,attrs:{label:e,value:e}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"门票包含张数",prop:"num",rules:[{required:!0,message:"门票包含张数不能为空"}]}},[r("el-input",{attrs:{type:"number"},model:{value:e.form.num,callback:function(t){e.form.num=t},expression:"form.num"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"票型",prop:"ticketType",rules:[{required:!0,message:"票型不能为空"}]}},[r("el-select",{attrs:{placeholder:"请选择"},on:{change:e.handleChange4},model:{value:e.form.ticketType,callback:function(t){e.form.ticketType=t},expression:"form.ticketType"}},e._l(e.ticketType,function(e){return r("el-option",{key:e.name,attrs:{label:e.name,value:e}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"开始日期",prop:"startTime",rules:[{required:!0,message:"起止日期不能为空"}]}},[r("el-input",{attrs:{type:"date"},model:{value:e.form.startTime,callback:function(t){e.form.startTime=t},expression:"form.startTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"结束日期",prop:"endTime",rules:[{required:!0,message:"起止日期不能为空"}]}},[r("el-input",{attrs:{type:"date"},model:{value:e.form.endTime,callback:function(t){e.form.endTime=t},expression:"form.endTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"当天可售数量",prop:"dailySale",rules:[{required:!0,message:"当天可售数量不能为空"}]}},[r("el-input",{attrs:{type:"number"},model:{value:e.form.dailySale,callback:function(t){e.form.dailySale=t},expression:"form.dailySale"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"提前购买(小时)",prop:"orderTime",rules:[{required:!0,message:"提前购买小时数不能为空"}]}},[r("el-input",{attrs:{type:"number"},model:{value:e.form.orderTime,callback:function(t){e.form.orderTime=t},expression:"form.orderTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"入园方式",prop:"method",rules:[{required:!0,message:"入园方式不能为空"}]}},[r("el-input",{model:{value:e.form.method,callback:function(t){e.form.method=t},expression:"form.method"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否可退",prop:"isCancel"}},[r("el-switch",{attrs:{"on-text":"是","off-text":"否","on-color":"#13ce66","off-color":"#ff4949","on-value":"是","off-value":"否"},on:{change:e.switch2},model:{value:e.form.isCancel,callback:function(t){e.form.isCancel=t},expression:"form.isCancel"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"入园须知",prop:"notice",rules:[{required:!0,message:"入园须知不能为空"}]}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.form.notice,callback:function(t){e.form.notice=t},expression:"form.notice"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"费用包含",prop:"costInside",rules:[{required:!0,message:"费用包含不能为空"}]}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.form.costInside,callback:function(t){e.form.costInside=t},expression:"form.costInside"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"费用不包含",prop:"costOutside",rules:[{required:!0,message:"费用不包含不能为空"}]}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.form.costOutside,callback:function(t){e.form.costOutside=t},expression:"form.costOutside"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"备注",prop:"remark",rules:[{required:!0,message:"备注不能为空"}]}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.form.remark=t},expression:"form.remark"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"使用类别开关",prop:"userType"}},[r("el-switch",{attrs:{"on-text":"开启","off-text":"禁用","on-color":"#13ce66","off-color":"#ff4949","on-value":"1","off-value":"0"},on:{change:e.switch3},model:{value:e.form.userType,callback:function(t){e.form.userType=t},expression:"form.userType"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"优先级类别",prop:"priorityType"}},[r("el-select",{attrs:{placeholder:"请选择"},on:{change:e.handleChange5},model:{value:e.form.priorityType,callback:function(t){e.form.priorityType=t},expression:"form.priorityType"}},e._l(e.priority,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"分销商列表",prop:"customName"}},[r("el-select",{attrs:{multiple:"",placeholder:"请选择"},on:{change:e.handleChange6},model:{value:e.form.customName,callback:function(t){e.form.customName=t},expression:"form.customName"}},e._l(e.custom,function(e){return r("el-option",{key:e.id,attrs:{label:e,value:e}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"",prop:"viewId"}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("form")}}},[e._v("提 交")]),e._v(" "),r("el-button",{on:{click:function(t){e.resetForm("form")}}},[e._v("重 置")])],1)],1)],1)])},staticRenderFns:[]}},1058:function(e,t,r){var o=r(713);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);r(195)("be44cd60",o,!0)},512:function(e,t,r){r(1058);var o=r(196)(r(592),r(1030),"data-v-c57870bc",null);e.exports=o.exports},522:function(e,t,r){"use strict";t.a={apidomain:"http://test.elvmedia.cn:8080"}},592:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(197),a=r.n(o),i=r(522);t.default={data:function(){return{name:"",currentPage:1,form:{name:"",viewName:"",supplierName:"",endPrice:"",marketPrice:"",isSale:"",type:"",ticketType:"",startTime:"",endTime:"",dailySale:"",num:"",orderTime:"",method:"",isCancel:"",notice:"",costInside:"",costOutside:"",remark:"",userType:"",sort:"",priorityType:"",viewId:"",priorityId:"",supplierId:"",customName:""},view:[],supplier:[],typeList:[],ticketType:[],priority:[],custom:[],ticketId:"",customName:[],customer:""}},created:function(){this.getAddress()},methods:{switch1:function(e){},switch2:function(e){},switch3:function(e){},resetForm:function(e){this.$refs[e].resetFields()},getAddress:function(){var e=this;a.a.get(i.a.apidomain+"/product/addUI.action").then(function(t){e.view=t.data.data.view,e.supplier=t.data.data.supplier,e.typeList=t.data.data.typeList,e.ticketType=t.data.data.ticketType,e.priority=t.data.data.priority,e.custom=t.data.data.custom})},handleChange1:function(e){this.form.viewId=e},handleChange2:function(e){this.form.supplierId=e},handleChange3:function(e){this.ticketId=e},handleChange4:function(e){},handleChange5:function(e){this.form.priorityId=e},handleChange6:function(e){var t="";e.forEach(function(e,r,o){t+=e+","}),this.customer=t},onSubmit:function(e){var t=this;console.log(this.form),this.$refs[e].validate(function(e){if(!e)return t.$message({message:"参数错误,请检查后重新输入~~",type:"warning"}),!1;a.a.post(i.a.apidomain+"/product/add.action?name="+t.form.name+"&viewName="+t.form.viewName+"&supplierName="+t.form.supplierName+"&endPrice="+t.form.endPrice+"&marketPrice="+t.form.marketPrice+"&type="+t.form.type+"&ticketType="+t.form.ticketType+"&startTime="+t.form.startTime+"&endTime="+t.form.endTime+"&dailySale="+t.form.dailySale+"&num="+t.form.num+"&orderTime="+t.form.orderTime+"&notice="+t.form.notice+"&costInside="+t.form.costInside+"&costOutside="+t.form.costOutside+"&remark="+t.form.remark+"&userType="+t.form.userType+"&priorityId="+t.form.priorityId+"&customPro="+t.customer+"&isSale="+t.form.isSale+"&isCancel="+t.form.isCancel+"&viewId="+t.form.viewId+"&supplierId="+t.form.supplierId+"&method="+t.form.method).then(function(e){if(console.log(e.data),t.codesID=e.data.code,0===t.codesID)return void t.$message({message:"参数错误,请重试~",type:"warning"});t.$message({message:"添加成功!,请点击最后一页查看新增数据~~",type:"success"}),t.$router.push({path:"./ProductManage",query:{currentPage:t.currentPage}})})})}}}},713:function(e,t,r){t=e.exports=r(86)(void 0),t.push([e.i,".form-box[data-v-c57870bc]{width:50%}.map[data-v-c57870bc]{width:100%;height:60px;border:1px solid #ccc}.dizhi[data-v-c57870bc]{line-height:100%}.m-part .mapbox[data-v-c57870bc]{border:1px solid #ccc;width:100%;height:300px;margin-bottom:10px;float:left}",""])}});