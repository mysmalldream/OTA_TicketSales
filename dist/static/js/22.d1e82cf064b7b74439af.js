webpackJsonp([22],{1049:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v(" 订单管理设置")]),e._v(" "),a("el-breadcrumb-item",[e._v("订单管理")])],1)],1),e._v(" "),a("div",{staticClass:"form-box"},[a("el-form",{ref:"form",attrs:{inline:!0,model:e.form,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"出游日期",prop:"useDate"}},[a("el-input",{attrs:{type:"date"},model:{value:e.form.useDate,callback:function(t){e.$set(e.form,"useDate",t)},expression:"form.useDate"}})],1),e._v("___\n            "),a("el-form-item",{attrs:{label:"",prop:"useDateEnd"}},[a("el-input",{attrs:{type:"date"},model:{value:e.form.useDateEnd,callback:function(t){e.$set(e.form,"useDateEnd",t)},expression:"form.useDateEnd"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"下单日期",prop:"useDateEnd"}},[a("el-input",{attrs:{type:"date"},model:{value:e.form.createDate,callback:function(t){e.$set(e.form,"createDate",t)},expression:"form.createDate"}})],1),e._v("___\n            "),a("el-form-item",{attrs:{label:"",prop:"createDateEnd"}},[a("el-input",{attrs:{type:"date"},model:{value:e.form.createDateEnd,callback:function(t){e.$set(e.form,"createDateEnd",t)},expression:"form.createDateEnd"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"订单编号",prop:"orderId"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.form.orderId,callback:function(t){e.$set(e.form,"orderId",t)},expression:"form.orderId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"景区名称",prop:"view"}},[a("el-input",{model:{value:e.form.view,callback:function(t){e.$set(e.form,"view",t)},expression:"form.view"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"产品名称",prop:"product"}},[a("el-input",{model:{value:e.form.product,callback:function(t){e.$set(e.form,"product",t)},expression:"form.product"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分销商名称",prop:"custom"}},[a("el-input",{model:{value:e.form.custom,callback:function(t){e.$set(e.form,"custom",t)},expression:"form.custom"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"供应商名称",prop:"supplier"}},[a("el-input",{model:{value:e.form.supplier,callback:function(t){e.$set(e.form,"supplier",t)},expression:"form.supplier"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"state"}},[a("el-select",{attrs:{placeholder:"请选择相应状态"},on:{change:e.handleChange1},model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}},e._l(e.states,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{icon:"search",type:"info"},on:{click:e.onSubmit}},[e._v("查 询")]),e._v(" "),a("el-button",{attrs:{icon:"delete"},on:{click:function(t){e.resetForm("form")}}},[e._v("重 置")])],1)],1)],1),e._v(" "),a("div",{staticClass:"plugins-tips"},[a("el-button",{attrs:{icon:"check",type:"success"},on:{click:function(t){e.handleDownload()}}},[e._v("导出为Excel")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:"","element-loading-text":"玩儿命加载中···"}},[a("el-table-column",{attrs:{align:"center",prop:"id",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"orderId",label:"订单号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"productName",label:"产品名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"custName",label:"分销商"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"supplier",label:"供应商"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"view",label:"所属景区"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"ispay",label:"支付方式"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"orderState",label:"订单状态"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"orderNumber",label:"数量"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"unitPrice",label:"单价"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"price",label:"金额"}})],1),e._v(" "),a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":10,"page-sizes":[10,20],layout:"total, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1)])],1)},staticRenderFns:[]}},1079:function(e,t,a){var o=a(737);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(197)("bbb8b26c",o,!0)},516:function(e,t,a){a(1079);var o=a(198)(a(615),a(1049),"data-v-57f0da43",null);e.exports=o.exports},532:function(e,t,a){"use strict";t.a={apidomain:"http://test.elvmedia.cn:8080/Ticket"}},615:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(17),r=(a.n(o),a(199)),n=a.n(r),i=a(532);t.default={data:function(){return{power:!1,form:{verDate:"",useDate:"",useDateEnd:"",createDate:"",createDateEnd:"",orderId:"",view:"",product:"",custom:"",supplier:"",state:""},states:[{id:"0",name:"未核销"},{id:"1",name:"未支付"},{id:"2",name:"已核销"},{id:"3",name:"已退款"}],statess:"",total:1,pagingNowNumberList:1,tableData:[],currentPage:1,pageCount:"",loading:!1,dialogFormVisible:!1,dialogFormVisible1:!1,formLabelWidth:"70px",powerId:1,ids:""}},created:function(){this.getimgs(),this.getPowerId()},methods:{getPowerId:function(){var e=JSON.parse(window.sessionStorage.getItem("powerId"));0==e?this.power=!0:1==e?this.power=!1:2==e?this.power=!0:this.$router.push({path:"/login"})},handleChange1:function(e){this.statess=e},onSubmit:function(){var e=this;console.log(this.form),console.log(this.statess),n.a.get(i.a.apidomain+"/order/findPageData.action?orderId="+this.form.orderId+"&view="+this.form.view+"&product="+this.form.product+"&custom="+this.form.custom+"&supplier="+this.form.supplier+"&verDate="+this.form.verDate+"&useDate="+this.form.useDate+"&useDateEnd="+this.form.useDateEnd+"&createDate="+this.form.createDate+"&createDateEnd="+this.form.createDateEnd+"&state="+this.statess+"&pageIndex="+this.pagingNowNumberList+"&power_id="+JSON.parse(window.sessionStorage.getItem("powerId"))+"&staff_id="+JSON.parse(window.sessionStorage.getItem("id"))).then(function(t){if(console.log(t.data),0==t.data.code)return e.$message({message:"暂未查询到数据,请重新查询~",type:"warning"}),e.tableData=t.data.data.datas,!1;e.$message.success("查询成功~~"),e.tableData=t.data.data.datas,e.total=t.data.data.allCount,e.pageCount=t.data.data.pageCount,e.pagingNowNumberList=t.data.data.currPage,e.loading=!1})},resetForm:function(e){this.$refs[e].resetFields()},handleDownload:function(){var e=this;a.e(27).then(function(){var t=a(542),o=t.export_json_to_excel,r=["分销商编号","分销商名称","分销商类别","分销商等级","电话","联系人","授信额度","预存现金","分销商状态"],n=["id","name","typeName","level","phone","linkMan","creditLimit","cashMoney","state"],i=e.tableData;o(r,e.formatJson(n,i),"未命名列表excel")}.bind(null,a)).catch(a.oe)},formatJson:function(e,t){return t.map(function(t){return e.map(function(e){return t[e]})})},getimgs:function(){var e=this;n.a.get(i.a.apidomain+"/order/findPageData.action?pageIndex="+this.pagingNowNumberList+"&power_id="+JSON.parse(window.sessionStorage.getItem("powerId"))+"&staff_id="+JSON.parse(window.sessionStorage.getItem("id"))).then(function(t){console.log(t.data),e.tableData=t.data.data.datas,e.total=t.data.data.allCount,e.pageCount=t.data.data.pageCount,e.pagingNowNumberList=t.data.data.currPage,e.loading=!1})},handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.pagingNowNumberList=""+e},handleCurrentChange:function(e){var t=this;n.a.get(i.a.apidomain+"/order/findPageData.action?pageIndex="+e+"&orderId="+this.form.orderId+"&view="+this.form.view+"&product="+this.form.product+"&custom="+this.form.custom+"&supplier="+this.form.supplier+"&verDate="+this.form.verDate+"&useDate="+this.form.useDate+"&useDateEnd="+this.form.useDateEnd+"&createDate="+this.form.createDate+"&createDateEnd="+this.form.createDateEnd+"&state="+this.statess+"&power_id="+JSON.parse(window.sessionStorage.getItem("powerId"))+"&staff_id="+JSON.parse(window.sessionStorage.getItem("id"))).then(function(e){t.tableData=e.data.data.datas,t.total=e.data.data.allCount,t.pageCount=e.data.data.pageCount,t.pagingNowNumberList=e.data.data.currPage,t.loading=!1})},newAdd:function(){this.$router.push({path:"./ProductnewAdd"})},delUI:function(e,t){var a=this;this.delID=t.id,this.$confirm("此操作将永久删除该条数据, 是否继续?","删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$message({type:"success",message:"删除成功!"}),n.a.post(i.a.apidomain+"/custom/delete.action?id="+a.delID).then(function(e){if(0===e.data.code)return a.$message({message:"删除失败，该产品存在订单无法删除,请联系系统管理员~",type:"warning"}),!1;a.getimgs()})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},del:function(){var e=this;this.$confirm("此操作将永久删除该条数据, 是否继续?","删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"删除成功!"})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}}}},737:function(e,t,a){t=e.exports=a(87)(void 0),t.push([e.i,".form-box[data-v-57f0da43]{width:100%}body[data-v-57f0da43]{font-family:Segoe UI}li[data-v-57f0da43]{list-style:none}a[data-v-57f0da43]{text-decoration:none}.pagination[data-v-57f0da43]{position:relative}.pagination li[data-v-57f0da43]{display:inline-block;margin:0 5px}.pagination li a[data-v-57f0da43]{padding:.5rem 1rem;display:inline-block;border:1px solid #ddd;background:#fff;color:#0e90d2}.pagination li a[data-v-57f0da43]:hover{background:#eee}.pagination li.active a[data-v-57f0da43]{background:#0e90d2;color:#fff}.el-pagination[data-v-57f0da43]{margin-left:35%;margin-top:4rem}.el-pagination button[data-v-57f0da43],.el-pagination span[data-v-57f0da43]{display:inline-block;font-size:13px;min-width:48px;height:45px!important;line-height:48px;vertical-align:top;box-sizing:border-box}",""])}});