webpackJsonp([2],{1037:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"crumbs"},[n("el-breadcrumb",{attrs:{separator:"/"}},[n("el-breadcrumb-item",[n("i",{staticClass:"el-icon-share"}),e._v(" 分销商管理设置")]),e._v(" "),n("el-breadcrumb-item",[e._v("修改")])],1)],1),e._v(" "),n("div",{staticClass:"form-box"},[n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"分销商编号",prop:"id",rules:[{required:!0,message:"景区编号不能为空"}]}},[n("el-input",{attrs:{disabled:!0},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"分销商名称",prop:"name",rules:[{required:!0,message:"景区名称不能为空"}]}},[n("el-input",{attrs:{disabled:!0},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"分销商类别",prop:"custType",rules:[{required:!0,message:"景区分类不能为空"}]}},[n("el-select",{attrs:{placeholder:"请重新选择"},on:{change:e.handleChange1},model:{value:e.form.custType1,callback:function(t){e.$set(e.form,"custType1",t)},expression:"form.custType1"}},e._l(e.custType,function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e}})}))],1),e._v(" "),n("el-form-item",{attrs:{label:"分销商等级",prop:"level",rules:[{required:!0,message:"景区等级不能为空"}]}},[n("el-select",{attrs:{placeholder:"请重新选择"},on:{change:e.handleChange2},model:{value:e.form.level1,callback:function(t){e.$set(e.form,"level1",t)},expression:"form.level1"}},e._l(e.level,function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e}})}))],1),e._v(" "),n("el-form-item",{attrs:{label:"电话",prop:"phone",rules:[{required:!0,message:"景区简介不能为空"}]}},[n("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"联系人",prop:"linkMan",rules:[{required:!0,message:"地址不能为空"}]}},[n("el-input",{model:{value:e.form.linkMan,callback:function(t){e.$set(e.form,"linkMan",t)},expression:"form.linkMan"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"用户名",prop:"userName",rules:[{required:!0,message:"营业时间不能为空"}]}},[n("el-input",{attrs:{disabled:!0},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"分销商状态",prop:"state"}},[n("el-select",{attrs:{placeholder:"请重新选择"},on:{change:e.handleChange3},model:{value:e.form.stateName1,callback:function(t){e.$set(e.form,"stateName1",t)},expression:"form.stateName1"}},e._l(e.states,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),n("el-form-item",{attrs:{label:"授信额度",prop:"creditLimit",rules:[{required:!0,message:"温馨提示不能为空"}]}},[n("el-input",{attrs:{type:"number"},model:{value:e.form.creditLimit,callback:function(t){e.$set(e.form,"creditLimit",t)},expression:"form.creditLimit"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"预存现金",prop:"cashMoney",rules:[{required:!0,message:"优惠政策不能为空"}]}},[n("el-input",{attrs:{disabled:!0},model:{value:e.form.cashMoney,callback:function(t){e.$set(e.form,"cashMoney",t)},expression:"form.cashMoney"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"",prop:"viewId"}},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("form")}}},[e._v("提 交")]),e._v(" "),n("el-button",{on:{click:function(t){e.resetForm("form")}}},[e._v("重 置")])],1)],1)],1)])},staticRenderFns:[]}},1069:function(e,t,n){var r=n(727);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(197)("41b824f8",r,!0)},511:function(e,t,n){n(1069);var r=n(198)(n(606),n(1037),"data-v-20bf46a3",null);e.exports=r.exports},532:function(e,t,n){"use strict";t.a={apidomain:"http://192.168.1.109:8080/TicketSales"}},534:function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=o(t),this.reject=o(n)}var o=n(200);e.exports.f=function(e){return new r(e)}},536:function(e,t,n){e.exports={default:n(546),__esModule:!0}},537:function(e,t,n){var r=n(136),o=n(49)("toStringTag"),a="Arguments"==r(function(){return arguments}()),i=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=i(t=Object(e),o))?n:a?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},538:function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},539:function(e,t,n){var r=n(65),o=n(66),a=n(534);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},540:function(e,t,n){var r=n(65),o=n(200),a=n(49)("species");e.exports=function(e,t){var n,i=r(e).constructor;return void 0===i||void 0==(n=r(i)[a])?t:o(n)}},541:function(e,t,n){var r,o,a,i=n(201),s=n(549),c=n(203),u=n(137),l=n(33),f=l.process,m=l.setImmediate,p=l.clearImmediate,d=l.MessageChannel,h=l.Dispatch,v=0,_={},y=function(){var e=+this;if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},g=function(e){y.call(e.data)};m&&p||(m=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return _[++v]=function(){s("function"==typeof e?e:Function(e),t)},r(v),v},p=function(e){delete _[e]},"process"==n(136)(f)?r=function(e){f.nextTick(i(y,e,1))}:h&&h.now?r=function(e){h.now(i(y,e,1))}:d?(o=new d,a=o.port2,o.port1.onmessage=g,r=i(a.postMessage,a,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",g,!1)):r="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),y.call(e)}}:function(e){setTimeout(i(y,e,1),0)}),e.exports={set:m,clear:p}},543:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(536),o=n.n(r),a=n(545),i=n(544);t.default={props:["lat","lng"],data:function(){return{searchKey:"",placeSearch:null,dragStatus:!1,AMapUI:null,AMap:null}},watch:{searchKey:function(){""===this.searchKey&&this.placeSearch.clear()}},methods:{handleSearch:function(){this.searchKey&&this.placeSearch.search(this.searchKey)},initMap:function(){var e=this,t=this.AMapUI=window.AMapUI,n=this.AMap=window.AMap;t.loadUI(["misc/PositionPicker"],function(t){var r={zoom:16,cityName:i.a};e.lat&&e.lng&&(r.center=[e.lng,e.lat]);var o=new n.Map("js-container",r);n.service("AMap.PlaceSearch",function(){e.placeSearch=new n.PlaceSearch({pageSize:5,pageIndex:1,citylimit:!0,city:i.a,map:o,panel:"js-result"})}),n.plugin(["AMap.ToolBar"],function(){o.addControl(new n.ToolBar({position:"RB"}))});var a=new t({mode:"dragMap",map:o});a.on("success",function(t){e.dragStatus?e.$emit("drag",t):e.dragStatus=!0}),a.start()})}},created:function(){var e=this;window.AMap&&window.AMapUI?this.initMap():o.a.all([n.i(a.a)("http://webapi.amap.com/maps?v=1.3&key="+i.b),n.i(a.a)("http://webapi.amap.com/ui/1.0/main.js")]).then(function(){e.initMap()})}}},544:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var r="cfd8da5cf010c5f7441834ff5e764f5b",o="西安"},545:function(e,t,n){"use strict";function r(e,t){function n(e){document.body.removeChild(e)}return function(e){var r=document.createElement("script");document.body.appendChild(r);var o=new a.a(function(e,o){r.addEventListener("load",function(o){n(r),t||e(o)},!1),r.addEventListener("error",function(e){n(r),o(e)},!1),t&&(window.____callback____=function(){e(),window.____callback____=null})});return t&&(e+="&callback=____callback____"),r.src=e,o}(e)}t.a=r;var o=n(536),a=n.n(o)},546:function(e,t,n){n(205),n(206),n(207),n(557),n(558),n(559),e.exports=n(64).Promise},547:function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},548:function(e,t,n){var r=n(201),o=n(551),a=n(550),i=n(65),s=n(204),c=n(556),u={},l={},t=e.exports=function(e,t,n,f,m){var p,d,h,v,_=m?function(){return e}:c(e),y=r(n,f,t?2:1),g=0;if("function"!=typeof _)throw TypeError(e+" is not iterable!");if(a(_)){for(p=s(e.length);p>g;g++)if((v=t?y(i(d=e[g])[0],d[1]):y(e[g]))===u||v===l)return v}else for(h=_.call(e);!(d=h.next()).done;)if((v=o(h,y,d.value,t))===u||v===l)return v};t.BREAK=u,t.RETURN=l},549:function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},550:function(e,t,n){var r=n(89),o=n(49)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[o]===e)}},551:function(e,t,n){var r=n(65);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&r(a.call(e)),t}}},552:function(e,t,n){var r=n(49)("iterator"),o=!1;try{var a=[7][r]();a.return=function(){o=!0},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var a=[7],i=a[r]();i.next=function(){return{done:n=!0}},a[r]=function(){return i},e(a)}catch(e){}return n}},553:function(e,t,n){var r=n(33),o=n(541).set,a=r.MutationObserver||r.WebKitMutationObserver,i=r.process,s=r.Promise,c="process"==n(136)(i);e.exports=function(){var e,t,n,u=function(){var r,o;for(c&&(r=i.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){i.nextTick(u)};else if(a){var l=!0,f=document.createTextNode("");new a(u).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}else if(s&&s.resolve){var m=s.resolve();n=function(){m.then(u)}}else n=function(){o.call(r,u)};return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},554:function(e,t,n){var r=n(52);e.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:r(e,o,t[o]);return e}},555:function(e,t,n){"use strict";var r=n(33),o=n(64),a=n(51),i=n(50),s=n(49)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:r[e];i&&t&&!t[s]&&a.f(t,s,{configurable:!0,get:function(){return this}})}},556:function(e,t,n){var r=n(537),o=n(49)("iterator"),a=n(89);e.exports=n(64).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||a[r(e)]}},557:function(e,t,n){"use strict";var r,o,a,i,s=n(90),c=n(33),u=n(201),l=n(537),f=n(88),m=n(66),p=n(200),d=n(547),h=n(548),v=n(540),_=n(541).set,y=n(553)(),g=n(534),b=n(538),x=n(539),w=c.TypeError,M=c.process,k=c.Promise,T="process"==l(M),P=function(){},j=o=g.f,S=!!function(){try{var e=k.resolve(1),t=(e.constructor={})[n(49)("species")]=function(e){e(P,P)};return(T||"function"==typeof PromiseRejectionEvent)&&e.then(P)instanceof t}catch(e){}}(),N=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},$=function(e,t){if(!e._n){e._n=!0;var n=e._c;y(function(){for(var r=e._v,o=1==e._s,a=0;n.length>a;)!function(t){var n,a,i=o?t.ok:t.fail,s=t.resolve,c=t.reject,u=t.domain;try{i?(o||(2==e._h&&E(e),e._h=1),!0===i?n=r:(u&&u.enter(),n=i(r),u&&u.exit()),n===t.promise?c(w("Promise-chain cycle")):(a=N(n))?a.call(n,s,c):s(n)):c(r)}catch(e){c(e)}}(n[a++]);e._c=[],e._n=!1,t&&!e._h&&C(e)})}},C=function(e){_.call(c,function(){var t,n,r,o=e._v,a=A(e);if(a&&(t=b(function(){T?M.emit("unhandledRejection",o,e):(n=c.onunhandledrejection)?n({promise:e,reason:o}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=T||A(e)?2:1),e._a=void 0,a&&t.e)throw t.v})},A=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if(t=n[r++],t.fail||!A(t.promise))return!1;return!0},E=function(e){_.call(c,function(){var t;T?M.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},I=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),$(t,!0))},K=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw w("Promise can't be resolved itself");(t=N(e))?y(function(){var r={_w:n,_d:!1};try{t.call(e,u(K,r,1),u(I,r,1))}catch(e){I.call(r,e)}}):(n._v=e,n._s=1,$(n,!1))}catch(e){I.call({_w:n,_d:!1},e)}}};S||(k=function(e){d(this,k,"Promise","_h"),p(e),r.call(this);try{e(u(K,this,1),u(I,this,1))}catch(e){I.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(554)(k.prototype,{then:function(e,t){var n=j(v(this,k));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=T?M.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&$(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new r;this.promise=e,this.resolve=u(K,e,1),this.reject=u(I,e,1)},g.f=j=function(e){return e===k||e===i?new a(e):o(e)}),f(f.G+f.W+f.F*!S,{Promise:k}),n(91)(k,"Promise"),n(555)("Promise"),i=n(64).Promise,f(f.S+f.F*!S,"Promise",{reject:function(e){var t=j(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!S),"Promise",{resolve:function(e){return x(s&&this===i?k:this,e)}}),f(f.S+f.F*!(S&&n(552)(function(e){k.all(e).catch(P)})),"Promise",{all:function(e){var t=this,n=j(t),r=n.resolve,o=n.reject,a=b(function(){var n=[],a=0,i=1;h(e,!1,function(e){var s=a++,c=!1;n.push(void 0),i++,t.resolve(e).then(function(e){c||(c=!0,n[s]=e,--i||r(n))},o)}),--i||r(n)});return a.e&&o(a.v),n.promise},race:function(e){var t=this,n=j(t),r=n.reject,o=b(function(){h(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},558:function(e,t,n){"use strict";var r=n(88),o=n(64),a=n(33),i=n(540),s=n(539);r(r.P+r.R,"Promise",{finally:function(e){var t=i(this,o.Promise||a.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},559:function(e,t,n){"use strict";var r=n(88),o=n(534),a=n(538);r(r.S,"Promise",{try:function(e){var t=o.f(this),n=a(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},560:function(e,t,n){t=e.exports=n(87)(void 0),t.push([e.i,".m-map{min-width:500px;min-height:300px;position:relative}.m-map .map{width:100%;height:100%}.m-map .search{position:absolute;top:10px;left:10px;width:285px;z-index:1}.m-map .search input{width:180px;border:1px solid #ccc;line-height:20px;padding:5px;outline:none}.m-map .search button{line-height:26px;background:#fff;border:1px solid #ccc;width:50px;text-align:center}.m-map .result{max-height:300px;overflow:auto;margin-top:10px}",""])},564:function(e,t,n){n(566);var r=n(198)(n(543),n(565),null,null);e.exports=r.exports},565:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"m-map"},[e.placeSearch?n("div",{staticClass:"search"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchKey,expression:"searchKey"}],attrs:{type:"search",placeholder:"请输入景区名称"},domProps:{value:e.searchKey},on:{input:function(t){t.target.composing||(e.searchKey=t.target.value)}}}),e._v(" "),n("button",{attrs:{type:"button"},on:{click:e.handleSearch}},[e._v("搜索")]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.searchKey,expression:"searchKey"}],staticClass:"result",attrs:{id:"js-result"}})]):e._e(),e._v(" "),n("div",{staticClass:"map",attrs:{id:"js-container"}})])},staticRenderFns:[]}},566:function(e,t,n){var r=n(560);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(197)("580f123c",r,!0)},606:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),o=(n.n(r),n(199)),a=n.n(o),i=n(532),s=n(564),c=n.n(s);t.default={components:{mapDrag:c.a},data:function(){return{val:"",currentPage:1,form:{id:"",name:"",custType1:"",level1:"",phone:"",linkMan:"",userName:"",state:"0",stateName1:"",creditLimit:"",cashMoney:""},custType:[],level:[],custTypes:"",levels:"",states:[{value:"0",label:"未审核"},{value:"1",label:"正常"},{value:"3",label:"停用"}]}},created:function(){this.getEdit(),this.getAddress()},methods:{resetForm:function(e){this.$refs[e].resetFields()},getEdit:function(){a.a.get(i.a.apidomain+"/custom/editUI.action?id="+this.$route.query.id).then(function(e){})},getAddress:function(){var e=this;a.a.get(i.a.apidomain+"/custom/editUI.action?id="+this.$route.query.id).then(function(t){e.custType=t.data.data.customType,e.level=t.data.data.level,e.form.custType=t.data.data.custom.customType,e.form.level=t.data.data.custom.level,e.form.id=t.data.data.custom.id,e.form.name=t.data.data.custom.name,e.form.level=t.data.data.custom.level,e.form.phone=t.data.data.custom.phone,e.form.custType=t.data.data.custom.custType,e.form.linkMan=t.data.data.custom.linkMan,e.form.userName=t.data.data.custom.userName,e.form.stateName=t.data.data.custom.stateName,e.form.creditLimit=t.data.data.custom.creditLimit,e.form.cashMoney=t.data.data.custom.cashMoney})},handleChange1:function(e){console.log(e.name),this.custTypes=e.name},handleChange2:function(e){console.log(e),this.levels=e},handleChange3:function(e){console.log(e),this.form.state=e},onSubmit:function(e){var t=this;console.log(this.form),console.log(this.custTypes),console.log(this.levels),this.$refs[e].validate(function(e){if(!e)return t.$message({message:"参数错误,请检查后重新输入~~",type:"warning"}),!1;a.a.post(i.a.apidomain+"/custom/edit.action?id="+t.form.id+"&name="+t.form.name+"&custType="+t.custTypes+"&level="+t.levels+"&phone="+t.form.phone+"&linkMan="+t.form.linkMan+"&userName="+t.form.userName+"&creditLimit="+t.form.creditLimit+"&cashMoney="+t.form.cashMoney+"&state="+t.form.state).then(function(e){if(t.codesID=e.data.code,0===t.codesID)return void t.$message({message:"修改失败,请重试~",type:"warning"});t.$message({message:"修改成功!~~   ",type:"success"}),t.$router.push({path:"/DistributorManagement"})})})}}}},727:function(e,t,n){t=e.exports=n(87)(void 0),t.push([e.i,".form-box[data-v-20bf46a3]{width:50%}",""])}});