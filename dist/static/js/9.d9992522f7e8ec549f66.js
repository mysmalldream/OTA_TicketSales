webpackJsonp([9],{1078:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-share"}),t._v(" 分销商管理设置")]),t._v(" "),a("el-breadcrumb-item",[t._v("合同管理")])],1)],1),t._v(" "),a("div",{staticClass:"form-box"},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"100px",enctype:"multipart/form-data"}},[a("el-form-item",{attrs:{label:"分销商名称",prop:"name"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.handleChange1},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(t.names,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"合同上传",prop:"hetong"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{accept:".doc,.docx,.txt,.pdf",action:t.urls,data:t.upLoadDatas,"on-preview":t.handlePreview,"on-remove":t.handleRemove,"on-success":t.handleSuccess,"on-error":t.handlEerror,"list-type":"picture","file-list":t.fileList,"auto-upload":!0,"show-file-list":!0}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传.doc,.docx,.txt,.pdf格式的文件")])],1)],1),t._v(" "),t._l(t.strs,function(e){return a("div",{key:e.id,staticClass:"listsitem"},[t._v(t._s(e)+"\n                "),a("el-button",{attrs:{size:"small"},on:{click:function(a){t.del(e)}}},[t._v("删除")])],1)})],2)],1)])},staticRenderFns:[]}},1111:function(t,e,a){var s=a(761);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(199)("0c25cb5a",s,!0)},512:function(t,e,a){a(1111);var s=a(200)(a(628),a(1078),"data-v-590796f5",null);t.exports=s.exports},538:function(t,e,a){"use strict";e.a={apidomain:"http://service.nvinfo.cn:8080/TicketSales"}},581:function(t,e,a){t.exports={default:a(589),__esModule:!0}},583:function(t,e,a){"use strict";e.__esModule=!0;var s=a(581),i=function(t){return t&&t.__esModule?t:{default:t}}(s);e.default=function(t,e,a){return e in t?(0,i.default)(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},589:function(t,e,a){a(593);var s=a(64).Object;t.exports=function(t,e,a){return s.defineProperty(t,e,a)}},593:function(t,e,a){var s=a(88);s(s.S+s.F*!a(51),"Object",{defineProperty:a(52).f})},628:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(583),i=a.n(s),o=a(17),n=(a.n(o),a(201)),l=a.n(n),r=a(538);e.default={data:function(){var t;return t={power:!1,urls:r.a.apidomain+"/custom/contractUpload.action",upLoadDatas:{id:"",url:""},form:{name:"",id:"",file:""},names:[],id:"",url:"",urlName:[],fileList:[],importFileUrl:"",upLoadData:"",strs:[]},i()(t,"names",{name:"",url:""}),i()(t,"dels",{id:"",url:""}),i()(t,"nums",""),t},created:function(){this.getimgs(),this.getPowerId()},methods:{getPowerId:function(){var t=JSON.parse(window.sessionStorage.getItem("powerId"));0==t?this.power=!0:1==t?this.power=!1:2==t?this.power=!0:this.$router.push({path:"/login"})},submitUpload:function(){this.$refs.upload.submit()},del:function(t){var e=this;console.log("删除按钮显示的"),console.log(this.dels),console.log("fileName==="+t),console.log(this.dels.id),console.log(this.dels.url),l.a.get(r.a.apidomain+"/custom/delURL.action?id="+this.dels.id+"&fileName="+t+"&url="+this.dels.url).then(function(t){e.strs=t.data.data[1],e.dels.url=t.data.data[0]})},handlePreview:function(t){this.fileList.name=t.name,this.fileList=t.response},handleSuccess:function(t,e,a){this.strs=[],this.$message({showClose:!0,message:"恭喜你，上传成功!",type:"success"}),setTimeout(function(){window.location.reload()},300)},handleRemove:function(t,e){console.log(t.name),l.a.get(r.a.apidomain+"/custom/delURL.action?id="+this.upLoadDatas.id+"&fileName="+t.name+"&url="+this.upLoadDatas.url).then(function(t){console.log(t.data)}),this.$message({showClose:!0,message:"删除成功",type:"success"}),setTimeout(function(){window.location.reload()},300)},handlEerror:function(t,e,a){this.$message({showClose:!0,message:"上传失败,请重试~",type:"error"})},handleChange1:function(t){var e=this;console.log(t),l.a.get(r.a.apidomain+"/custom/getUrlList.action?id="+t).then(function(t){e.upLoadDatas.id=t.data.data[0].id,e.upLoadDatas.url=t.data.data[0].url,null==t.data.data[0].urlList&&(t.data.data[0].urlList=[]),e.fileList=t.data.data[0].urlList}),this.dels.id=t.id,this.dels.url=t.url,this.upLoadDatas.id=t.id,this.upLoadDatas.url=t.url,this.strs=[],null!=t.urlList&&t.urlList.forEach(function(t,e){this.strs.push(t)},this)},getimgs:function(){var t=this;l.a.get(r.a.apidomain+"/custom/contractUI.action").then(function(e){t.names=e.data.data})}}}},761:function(t,e,a){e=t.exports=a(87)(void 0),e.push([t.i,".form-box[data-v-590796f5]{width:50%}.el-upload[data-v-590796f5]{height:40px!important}.listsitem[data-v-590796f5]{margin-top:10px}",""])}});