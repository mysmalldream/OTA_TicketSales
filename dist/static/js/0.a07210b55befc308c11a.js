webpackJsonp([0],{1036:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"crumbs"},[n("el-breadcrumb",{attrs:{separator:"/"}},[n("el-breadcrumb-item",[n("i",{staticClass:"el-icon-message"}),e._v(" 景区管理设置")]),e._v(" "),n("el-breadcrumb-item",[e._v("新增")])],1)],1),e._v(" "),n("form",{attrs:{id:"forms",action:"",method:"post",enctype:"multipart/form-data"}},[e._m(0),e._v(" "),n("input",{attrs:{type:"text",name:"name",id:"name",required:"required"}}),e._v(" "),n("br"),e._v(" "),e._m(1),e._v(" "),n("el-tag",{attrs:{type:"success"}},[e._v("[★小贴士★]输入景区名称或拖动地图以选择景区位置~")]),e._v(" "),e._m(2),e._v(" "),n("div",[n("b",[e._v("详细地址:")]),n("span",[e._v("1")]),e._v(e._s(e.dragData.address))]),e._v(" "),n("div",{staticClass:"m-part"},[n("mapDrag",{staticClass:"mapbox",on:{drag:e.dragMap}})],1),e._v(" "),e._m(3),e._v(" "),n("select",{attrs:{id:"type",name:"type"}}),e._v(" "),n("br"),e._v(" "),e._m(4),e._v(" "),e._m(5),e._v(" "),n("br"),e._v(" "),e._m(6),e._v(" "),n("textarea",{attrs:{id:"remark",cols:"50",rows:"4",name:"remark",placeholder:"在这里输入内容...",required:"required"}}),e._v(" "),n("br"),e._v(" "),e._m(7),e._v(" "),n("textarea",{attrs:{id:"address",cols:"50",rows:"4",name:"address",placeholder:"在这里输入内容...",required:"required"}}),e._v(" "),n("br"),e._v(" "),e._m(8),e._v(" "),n("input",{attrs:{type:"text",name:"businessTime",id:"businessTime",placeholder:"格式为(9:00-17:00)",required:"required"}}),e._v(" "),n("br"),e._v(" "),e._m(9),e._v(" "),n("input",{attrs:{type:"text",name:"phone",id:"phone",required:"required"}}),e._v(" "),n("br"),e._v(" "),e._m(10),e._v(" "),n("textarea",{attrs:{cols:"50",rows:"4",name:"reminder",placeholder:"在这里输入内容..."}}),e._v(" "),n("br"),e._v(" "),e._m(11),e._v(" "),n("textarea",{attrs:{id:"discount",cols:"50",rows:"4",name:"discount",placeholder:"在这里输入内容...",required:"required"}}),e._v(" "),n("br"),e._v(" "),e._m(12),e._v(" "),n("textarea",{attrs:{cols:"50",rows:"4",name:"busMessage",placeholder:"在这里输入内容..."}}),e._v(" "),n("br"),e._v(" "),e._m(13),e._v(" "),n("textarea",{attrs:{cols:"50",rows:"4",name:"selfRoute",placeholder:"在这里输入内容..."}}),e._v(" "),n("br"),e._v(" "),n("hr"),e._v(" "),e._m(14),e._v(" "),n("input",{attrs:{type:"file",name:"file",multiple:"multiple",required:"required",id:"file",accept:"image/*"}}),e._v(" "),n("div",[n("el-tag",{attrs:{type:"success"}},[e._v("图片文件的格式只能是.gif,.jpeg,.jpg,.png,.svg,.bmp")])],1),e._v(" "),e._m(15),e._v(" "),n("select",{attrs:{id:"staff",name:"staffId"}}),e._v(" "),n("br"),e._v(" "),e._m(16),e._v(" "),e._m(17),e._v(" "),n("br"),e._v(" "),e._m(18),e._v(" "),e._m(19),e._v(" "),n("br"),e._v(" "),e._m(20),e._v(" "),n("input",{attrs:{id:"sort",type:"number",name:"sort",required:"required",placeholder:"请输入0,1,2...的数字值"}}),e._v(" "),n("br"),e._v(" "),n("input",{attrs:{type:"button",value:"提 交",id:"button"},on:{click:e.button}})],1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"name"}},[n("span",[e._v("* ")]),e._v(" 景区名称:")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"dizhi"}},[n("span",[e._v("* ")]),e._v(" 景区位置:")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"map"},[n("div",[n("b",[e._v("经度：")]),n("input",{attrs:{type:"text",name:"lng",id:"lng",disabled:"",value:"0",required:"required"}}),n("b",[e._v("纬度：")]),n("input",{attrs:{type:"text",name:"lat",id:"lat",disabled:"",value:"0",required:"required"}})])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"type"}},[n("span",[e._v("* ")]),e._v(" 景区分类:")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"level"}},[n("span",[e._v("* ")]),e._v(" 景区等级:")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("select",{attrs:{id:"level",name:"level"}},[n("option",[e._v("山西")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"remark"}},[n("span",[e._v("* ")]),e._v(" 景区简介:")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"address"}},[n("span",[e._v("* ")]),e._v(" 地       址:")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"businessTime"}},[n("span",[e._v("* ")]),e._v(" 营业时间:")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"phone"}},[n("span",[e._v("* ")]),e._v(" 电       话:")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"reminder"}},[n("span",[e._v("* ")]),e._v(" 温馨提示:")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"discount"}},[n("span",[e._v("* ")]),e._v(" 优惠政策:")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"busMessage"}},[n("span",[e._v("* ")]),e._v(" 公交线路:")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"selfRoute"}},[n("span",[e._v("* ")]),e._v(" 自驾线路:")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"file"}},[n("span",[e._v("* ")]),e._v(" 上传图片:")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"staffId"}},[n("span",[e._v("* ")]),e._v(" 业务人员:")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"province"}},[n("span",[e._v("* ")]),e._v(" 所属省份:")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("select",{attrs:{id:"province",name:"province"}},[n("option",[e._v("山西")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"city"}},[n("span",[e._v("* ")]),e._v(" 所属城市:")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("select",{attrs:{id:"city",name:"city"}},[n("option",[e._v("山西")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"sort"}},[n("span",[e._v("* ")]),e._v(" 景区排序:")])}]}},1068:function(e,t,n){var r=n(726);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(197)("e7fddef4",r,!0)},526:function(e,t,n){n(1068);var r=n(198)(n(625),n(1036),"data-v-1b7ce186",null);e.exports=r.exports},532:function(e,t,n){"use strict";t.a={apidomain:"http://test.elvmedia.cn:8080/Ticket"}},534:function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=a(t),this.reject=a(n)}var a=n(200);e.exports.f=function(e){return new r(e)}},536:function(e,t,n){e.exports={default:n(546),__esModule:!0}},537:function(e,t,n){var r=n(136),a=n(49)("toStringTag"),i="Arguments"==r(function(){return arguments}()),o=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=o(t=Object(e),a))?n:i?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},538:function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},539:function(e,t,n){var r=n(65),a=n(66),i=n(534);e.exports=function(e,t){if(r(e),a(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},540:function(e,t,n){var r=n(65),a=n(200),i=n(49)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[i])?t:a(n)}},541:function(e,t,n){var r,a,i,o=n(201),s=n(549),c=n(203),l=n(137),u=n(33),f=u.process,p=u.setImmediate,d=u.clearImmediate,v=u.MessageChannel,m=u.Dispatch,h=0,_={},g=function(){var e=+this;if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},b=function(e){g.call(e.data)};p&&d||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return _[++h]=function(){s("function"==typeof e?e:Function(e),t)},r(h),h},d=function(e){delete _[e]},"process"==n(136)(f)?r=function(e){f.nextTick(o(g,e,1))}:m&&m.now?r=function(e){m.now(o(g,e,1))}:v?(a=new v,i=a.port2,a.port1.onmessage=b,r=o(i.postMessage,i,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",b,!1)):r="onreadystatechange"in l("script")?function(e){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),g.call(e)}}:function(e){setTimeout(o(g,e,1),0)}),e.exports={set:p,clear:d}},543:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(536),a=n.n(r),i=n(545),o=n(544);t.default={props:["lat","lng"],data:function(){return{searchKey:"",placeSearch:null,dragStatus:!1,AMapUI:null,AMap:null}},watch:{searchKey:function(){""===this.searchKey&&this.placeSearch.clear()}},methods:{handleSearch:function(){this.searchKey&&this.placeSearch.search(this.searchKey)},initMap:function(){var e=this,t=this.AMapUI=window.AMapUI,n=this.AMap=window.AMap;t.loadUI(["misc/PositionPicker"],function(t){var r={zoom:16,cityName:o.a};e.lat&&e.lng&&(r.center=[e.lng,e.lat]);var a=new n.Map("js-container",r);n.service("AMap.PlaceSearch",function(){e.placeSearch=new n.PlaceSearch({pageSize:5,pageIndex:1,citylimit:!0,city:o.a,map:a,panel:"js-result"})}),n.plugin(["AMap.ToolBar"],function(){a.addControl(new n.ToolBar({position:"RB"}))});var i=new t({mode:"dragMap",map:a});i.on("success",function(t){e.dragStatus?e.$emit("drag",t):e.dragStatus=!0}),i.start()})}},created:function(){var e=this;window.AMap&&window.AMapUI?this.initMap():a.a.all([n.i(i.a)("http://webapi.amap.com/maps?v=1.3&key="+o.b),n.i(i.a)("http://webapi.amap.com/ui/1.0/main.js")]).then(function(){e.initMap()})}}},544:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var r="cfd8da5cf010c5f7441834ff5e764f5b",a="西安"},545:function(e,t,n){"use strict";function r(e,t){function n(e){document.body.removeChild(e)}return function(e){var r=document.createElement("script");document.body.appendChild(r);var a=new i.a(function(e,a){r.addEventListener("load",function(a){n(r),t||e(a)},!1),r.addEventListener("error",function(e){n(r),a(e)},!1),t&&(window.____callback____=function(){e(),window.____callback____=null})});return t&&(e+="&callback=____callback____"),r.src=e,a}(e)}t.a=r;var a=n(536),i=n.n(a)},546:function(e,t,n){n(205),n(206),n(207),n(557),n(558),n(559),e.exports=n(64).Promise},547:function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},548:function(e,t,n){var r=n(201),a=n(551),i=n(550),o=n(65),s=n(204),c=n(556),l={},u={},t=e.exports=function(e,t,n,f,p){var d,v,m,h,_=p?function(){return e}:c(e),g=r(n,f,t?2:1),b=0;if("function"!=typeof _)throw TypeError(e+" is not iterable!");if(i(_)){for(d=s(e.length);d>b;b++)if((h=t?g(o(v=e[b])[0],v[1]):g(e[b]))===l||h===u)return h}else for(m=_.call(e);!(v=m.next()).done;)if((h=a(m,g,v.value,t))===l||h===u)return h};t.BREAK=l,t.RETURN=u},549:function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},550:function(e,t,n){var r=n(89),a=n(49)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[a]===e)}},551:function(e,t,n){var r=n(65);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},552:function(e,t,n){var r=n(49)("iterator"),a=!1;try{var i=[7][r]();i.return=function(){a=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var i=[7],o=i[r]();o.next=function(){return{done:n=!0}},i[r]=function(){return o},e(i)}catch(e){}return n}},553:function(e,t,n){var r=n(33),a=n(541).set,i=r.MutationObserver||r.WebKitMutationObserver,o=r.process,s=r.Promise,c="process"==n(136)(o);e.exports=function(){var e,t,n,l=function(){var r,a;for(c&&(r=o.domain)&&r.exit();e;){a=e.fn,e=e.next;try{a()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){o.nextTick(l)};else if(i){var u=!0,f=document.createTextNode("");new i(l).observe(f,{characterData:!0}),n=function(){f.data=u=!u}}else if(s&&s.resolve){var p=s.resolve();n=function(){p.then(l)}}else n=function(){a.call(r,l)};return function(r){var a={fn:r,next:void 0};t&&(t.next=a),e||(e=a,n()),t=a}}},554:function(e,t,n){var r=n(52);e.exports=function(e,t,n){for(var a in t)n&&e[a]?e[a]=t[a]:r(e,a,t[a]);return e}},555:function(e,t,n){"use strict";var r=n(33),a=n(64),i=n(51),o=n(50),s=n(49)("species");e.exports=function(e){var t="function"==typeof a[e]?a[e]:r[e];o&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function(){return this}})}},556:function(e,t,n){var r=n(537),a=n(49)("iterator"),i=n(89);e.exports=n(64).getIteratorMethod=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||i[r(e)]}},557:function(e,t,n){"use strict";var r,a,i,o,s=n(90),c=n(33),l=n(201),u=n(537),f=n(88),p=n(66),d=n(200),v=n(547),m=n(548),h=n(540),_=n(541).set,g=n(553)(),b=n(534),w=n(538),y=n(539),x=c.TypeError,E=c.process,$=c.Promise,k="process"==u(E),P=function(){},T=a=b.f,M=!!function(){try{var e=$.resolve(1),t=(e.constructor={})[n(49)("species")]=function(e){e(P,P)};return(k||"function"==typeof PromiseRejectionEvent)&&e.then(P)instanceof t}catch(e){}}(),j=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},C=function(e,t){if(!e._n){e._n=!0;var n=e._c;g(function(){for(var r=e._v,a=1==e._s,i=0;n.length>i;)!function(t){var n,i,o=a?t.ok:t.fail,s=t.resolve,c=t.reject,l=t.domain;try{o?(a||(2==e._h&&q(e),e._h=1),!0===o?n=r:(l&&l.enter(),n=o(r),l&&l.exit()),n===t.promise?c(x("Promise-chain cycle")):(i=j(n))?i.call(n,s,c):s(n)):c(r)}catch(e){c(e)}}(n[i++]);e._c=[],e._n=!1,t&&!e._h&&S(e)})}},S=function(e){_.call(c,function(){var t,n,r,a=e._v,i=I(e);if(i&&(t=w(function(){k?E.emit("unhandledRejection",a,e):(n=c.onunhandledrejection)?n({promise:e,reason:a}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",a)}),e._h=k||I(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},I=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if(t=n[r++],t.fail||!I(t.promise))return!1;return!0},q=function(e){_.call(c,function(){var t;k?E.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},z=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),C(t,!0))},A=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw x("Promise can't be resolved itself");(t=j(e))?g(function(){var r={_w:n,_d:!1};try{t.call(e,l(A,r,1),l(z,r,1))}catch(e){z.call(r,e)}}):(n._v=e,n._s=1,C(n,!1))}catch(e){z.call({_w:n,_d:!1},e)}}};M||($=function(e){v(this,$,"Promise","_h"),d(e),r.call(this);try{e(l(A,this,1),l(z,this,1))}catch(e){z.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(554)($.prototype,{then:function(e,t){var n=T(h(this,$));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=k?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&C(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=l(A,e,1),this.reject=l(z,e,1)},b.f=T=function(e){return e===$||e===o?new i(e):a(e)}),f(f.G+f.W+f.F*!M,{Promise:$}),n(91)($,"Promise"),n(555)("Promise"),o=n(64).Promise,f(f.S+f.F*!M,"Promise",{reject:function(e){var t=T(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!M),"Promise",{resolve:function(e){return y(s&&this===o?$:this,e)}}),f(f.S+f.F*!(M&&n(552)(function(e){$.all(e).catch(P)})),"Promise",{all:function(e){var t=this,n=T(t),r=n.resolve,a=n.reject,i=w(function(){var n=[],i=0,o=1;m(e,!1,function(e){var s=i++,c=!1;n.push(void 0),o++,t.resolve(e).then(function(e){c||(c=!0,n[s]=e,--o||r(n))},a)}),--o||r(n)});return i.e&&a(i.v),n.promise},race:function(e){var t=this,n=T(t),r=n.reject,a=w(function(){m(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return a.e&&r(a.v),n.promise}})},558:function(e,t,n){"use strict";var r=n(88),a=n(64),i=n(33),o=n(540),s=n(539);r(r.P+r.R,"Promise",{finally:function(e){var t=o(this,a.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},559:function(e,t,n){"use strict";var r=n(88),a=n(534),i=n(538);r(r.S,"Promise",{try:function(e){var t=a.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},560:function(e,t,n){t=e.exports=n(87)(void 0),t.push([e.i,".m-map{min-width:500px;min-height:300px;position:relative}.m-map .map{width:100%;height:100%}.m-map .search{position:absolute;top:10px;left:10px;width:285px;z-index:1}.m-map .search input{width:180px;border:1px solid #ccc;line-height:20px;padding:5px;outline:none}.m-map .search button{line-height:26px;background:#fff;border:1px solid #ccc;width:50px;text-align:center}.m-map .result{max-height:300px;overflow:auto;margin-top:10px}",""])},564:function(e,t,n){n(566);var r=n(198)(n(543),n(565),null,null);e.exports=r.exports},565:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"m-map"},[e.placeSearch?n("div",{staticClass:"search"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchKey,expression:"searchKey"}],attrs:{type:"search",placeholder:"请输入景区名称"},domProps:{value:e.searchKey},on:{input:function(t){t.target.composing||(e.searchKey=t.target.value)}}}),e._v(" "),n("button",{attrs:{type:"button"},on:{click:e.handleSearch}},[e._v("搜索")]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.searchKey,expression:"searchKey"}],staticClass:"result",attrs:{id:"js-result"}})]):e._e(),e._v(" "),n("div",{staticClass:"map",attrs:{id:"js-container"}})])},staticRenderFns:[]}},566:function(e,t,n){var r=n(560);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(197)("580f123c",r,!0)},625:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(199),a=n.n(r),i=n(532),o=n(631),s=(n.n(o),n(564)),c=n.n(s),l=n(202),u=n.n(l);t.default={components:{mapDrag:c.a},data:function(){return{power:!1,dialogImageUrl:"",dialogVisible:!1,urls:i.a.apidomain+"/view/add.action",fileList:[],currentPage:1,dragData:{lng:null,lat:null,address:null},form:{lng:"",lat:"",name:"",type:"",level:"",remark:"",address:"",businessTime:"",phone:"",reminder:"",discount:"",busMessage:"",selfRoute:"",file:"",staff:"",staffId:"",staffName:"",province:"",city:"",sort:"",fileList:[]},viewType:[],viewLevel:[],staff:[],province:[],city:[],maxSize:307200,files:[]}},created:function(){this.map(),this.getPowerId()},methods:{getPowerId:function(){var e=JSON.parse(window.sessionStorage.getItem("powerId"));0==e?this.power=!0:1==e?this.power=!1:2==e?this.power=!0:this.$router.push({path:"/login"})},map:function(){var e="",t="",n="",r="",a="";u()(function(){u.a.ajax({type:"get",url:i.a.apidomain+"/view/addUI.action",dataType:"json",success:function(i){i.data.viewType.forEach(function(t){e+="<option>"+t+"</option>"},this),u()("#type").html(e),i.data.viewLevel.forEach(function(e){t+="<option>"+e+"</option>"},this),u()("#level").html(t),i.data.staff.forEach(function(e){n+="<option value="+e.id+">"+e.name+"</option>"},this),u()("#staff").html(n),i.data.viewProvince.forEach(function(e){r+="<option>"+e+"</option>"},this),u()("#province").html(r),i.data.viewCity.forEach(function(e){a+="<option>"+e+"</option>"},this),u()("#city").html(a)}})})},button:function(){if(console.log(this.form),""==u()("#name").val())this.$message({showClose:!0,message:"景区名称不能有空",type:"warning"});else if(""==u()("#remark").val())this.$message({showClose:!0,message:"景区简介不能有空",type:"warning"});else if(""==u()("#address").val())this.$message({showClose:!0,message:"地址不能有空",type:"warning"});else if(""==u()("#businessTime").val())this.$message({showClose:!0,message:"营业时间不能有空",type:"warning"});else if(""==u()("#phone").val())this.$message({showClose:!0,message:"电话不能有空",type:"warning"});else if(""==u()("#discount").val())this.$message({showClose:!0,message:"优惠政策不能有空",type:"warning"});else if(""==u()("#sort").val())this.$message({showClose:!0,message:"景区排序不能有空",type:"warning"});else{var e=new FormData(document.getElementById("forms"));u.a.ajax({url:i.a.apidomain+"/view/add.action",type:"post",data:e,processData:!1,contentType:!1,success:function(e){console.log(e)},error:function(e){console.log(e)}}),this.$message({showClose:!0,message:"恭喜你，新增成功~,请点击最后一页查看新增数据~",type:"success"}),this.$router.push({path:"./SceneryManage"})}},dragMap:function(e){u()("#lng").val(e.position.lng),u()("#lat").val(e.position.lat),this.dragData={lng:e.position.lng,lat:e.position.lat,address:e.address}},resetForm:function(e){this.$refs[e].resetFields()},getAddress:function(){var e=this;a.a.get(i.a.apidomain+"/view/addUI.action").then(function(t){e.viewType=t.data.data.viewType,e.viewLevel=t.data.data.viewLevel,e.staff=t.data.data.staff,e.province=t.data.data.viewProvince,e.city=t.data.data.viewCity})},handleChange1:function(e){this.form.type=e},handleChange2:function(e){this.form.level=e},handleChange3:function(e){this.form.staffId=e.id,this.form.staffName=e.name},handleChange4:function(e){this.form.province=e},handleChange5:function(e){this.form.city=e},onSubmit:function(e){var t=this;console.log(1111),console.log(this.form),console.log(this.form.file),this.$refs[e].validate(function(e){if(!e)return t.$message({message:"参数错误,请检查后重新输入~~",type:"warning"}),!1;a.a.post(i.a.apidomain+"/view/add.action?name="+t.form.name+"&type="+t.form.type+"&level="+t.form.level+"&remark="+t.form.remark+"&address="+t.form.address+"&businessTime="+t.form.businessTime+"&phone="+t.form.phone+"&reminder="+t.form.reminder+"&discount="+t.form.discount+"&busMessage="+t.form.busMessage+"&selfRoute="+t.form.selfRoute+"&file="+t.form.file+"&staffId="+t.form.staff.id+"&staffName="+t.form.staff.name+"&province="+t.form.province+"&city="+t.form.city+"&sort="+t.form.sort+"&lng="+t.dragData.lng+"&lat="+t.dragData.lat).then(function(e){if(t.currentPage=e.data.data.currPage,t.codesID=e.data.code,0===t.codesID)return t.$message({message:"参数错误,请重试~",type:"warning"}),void t.getimgs();t.$message({message:"添加成功!,请点击最后一页查看新增数据~~",type:"success"}),t.$router.push({path:"./SceneryManage",params:{currentPage:t.currentPage}})})})}}}},631:function(e,t,n){(function(e,t){e(function(){function n(e){for(var n,r=[],i=0;n=e[i];i++){var o=n.name.split("").reverse().join("");if(null!=o.split(".")[0]){var s=o.split(".")[0].split("").reverse().join("");console.log(s+"===type==="),t.inArray(s,a.fileType)>-1?n.size>=a.fileSize?(alert(n.size),alert('您这个"'+n.name+'"文件大小过大')):r.push(n):alert('您这个"'+n.name+'"上传类型不符合')}else alert('您这个"'+n.name+'"没有类型, 无法识别')}return r}var r,a={fileType:["jpg","png","bmp","jpeg"],fileSize:10485760};e(".file").change(function(){var t=e(this).attr("id"),a=document.getElementById(t),i=e(this).parents(".z_photo"),o=a.files;console.log(o+"======filelist=====");var s=(e(this).parent(),[]),c=i.find(".up-section").length,l=c+o.length;if(o.length>5||l>5)alert("上传图片数目不可以超过5个，请重新选择");else if(c<5){o=n(o);for(var u=0;u<o.length;u++){var f=window.URL.createObjectURL(o[u]);s.push(f);var p=e("<section class='up-section fl loading'>");i.prepend(p);var d=e("<span class='up-span'>");d.appendTo(p);var v=e("<img class='close-upimg'>").on("click",function(t){t.preventDefault(),t.stopPropagation(),e(".works-mask").show(),r=e(this).parent()});v.attr("src","img/a7.png").appendTo(p);var m=e("<img class='up-img up-opcity'>");m.attr("src",s[u]),m.appendTo(p);var h=e("<p class='img-name-p'>");h.html(o[u].name).appendTo(p);var _=e("<input id='taglocation' name='taglocation' value='' type='hidden'>");_.appendTo(p);var g=e("<input id='tags' name='tags' value='' type='hidden'/>");g.appendTo(p)}}setTimeout(function(){e(".up-section").removeClass("loading"),e(".up-img").removeClass("up-opcity")},450),c=i.find(".up-section").length,c>=5&&e(this).parent().hide(),e(this).val("")}),e(".z_photo").delegate(".close-upimg","click",function(){e(".works-mask").show(),r=e(this).parent()}),e(".wsdel-ok").click(function(){e(".works-mask").hide(),r.siblings().length<6&&r.parent().find(".z_file").show(),r.remove()}),e(".wsdel-no").click(function(){e(".works-mask").hide()})})}).call(t,n(202),n(202))},726:function(e,t,n){t=e.exports=n(87)(void 0),t.push([e.i,".form-box[data-v-1b7ce186]{width:50%}.map[data-v-1b7ce186]{width:100%;height:33px;border:1px solid #ccc;margin-bottom:10px}.m-part .mapbox[data-v-1b7ce186]{border:1px solid #ccc;width:100%;height:300px;margin-bottom:10px;float:left}label[data-v-1b7ce186]{width:100px}#button[data-v-1b7ce186]{width:90px;background-color:#1fa0ff;height:35px;color:#fff;border-radius:5px;border:none;margin-top:5px;cursor:pointer}#forms[data-v-1b7ce186]{width:60%}input[data-v-1b7ce186],select[data-v-1b7ce186]{width:80%;height:30px;padding:3px;margin-top:5px;margin-bottom:5px;background-image:none;border-radius:4px;border:1px solid #bfcbd9;box-sizing:border-box;color:#1f2d3d;font-size:inherit;height:36px;line-height:1;outline:0;padding:3px 10px;transition:border-color .2s cubic-bezier(.645,.045,.355,1)}select[data-v-1b7ce186]{width:30%}#lat[data-v-1b7ce186],#lng[data-v-1b7ce186]{width:150px;height:18px}textarea[data-v-1b7ce186]{width:80%;margin-top:5px;margin-bottom:5px;appearance:none;background-color:#fff;background-image:none;border-radius:4px;border:1px solid #bfcbd9;box-sizing:border-box;color:#1f2d3d;font-size:inherit;line-height:1;outline:0;padding:3px 10px;transition:border-color .2s cubic-bezier(.645,.045,.355,1)}label[data-v-1b7ce186]{text-align:right;vertical-align:middle;font-size:14px;color:#48576a;line-height:1;padding:11px 12px 11px 0;box-sizing:border-box}label>span[data-v-1b7ce186]{color:red}",""])}});