webpackJsonp([1],{1062:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"crumbs"},[n("el-breadcrumb",{attrs:{separator:"/"}},[n("el-breadcrumb-item",[n("i",{staticClass:"el-icon-message"}),e._v(" 景区管理设置")]),e._v(" "),n("el-breadcrumb-item",[e._v("修改")])],1)],1),e._v(" "),n("form",{attrs:{id:"forms",action:"",method:"post",enctype:"multipart/form-data"}},[n("label",{attrs:{for:"id"}},[e._v("景区编号:")]),e._v(" "),n("input",{attrs:{type:"text",name:"id",id:"id",disabled:""}}),e._v(" "),n("br"),e._v(" "),n("label",{attrs:{for:"name"}},[e._v("景区名称:")]),e._v(" "),n("input",{attrs:{type:"text",name:"name",id:"name",required:"required"}}),e._v(" "),n("br"),e._v(" "),n("label",{attrs:{for:"dizhi"}},[e._v("景区位置:")]),e._v(" "),n("el-tag",{attrs:{type:"success"}},[e._v("[★小贴士★]输入景区名称或拖动地图以选择景区位置~")]),e._v(" "),e._m(0),e._v(" "),n("div",[n("b",[e._v("详细地址:")]),e._v(e._s(e.dragData.address))]),e._v(" "),n("div",{staticClass:"m-part"},[n("mapDrag",{staticClass:"mapbox",on:{drag:e.dragMap}})],1),e._v(" "),n("label",{attrs:{for:"type"}},[e._v("景区分类:")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.form.type,expression:"form.type"}],attrs:{id:"type",name:"type"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.form,"type",t.target.multiple?n:n[0])}}}),e._v(" "),n("br"),e._v(" "),n("label",{attrs:{for:"level"}},[e._v("景区等级:")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.form.level,expression:"form.level"}],attrs:{id:"level",name:"level"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.form,"level",t.target.multiple?n:n[0])}}},[n("option",[e._v("山西")])]),e._v(" "),n("br"),e._v(" "),n("label",{attrs:{for:"remark"}},[e._v("景区简介:")]),e._v(" "),n("textarea",{attrs:{id:"remark",cols:"50",rows:"4",name:"remark",placeholder:"在这里输入内容...",required:"required"}}),e._v(" "),n("br"),e._v(" "),n("label",{attrs:{for:"address"}},[e._v("地       址:")]),e._v(" "),n("textarea",{attrs:{id:"address",cols:"50",rows:"4",name:"address",placeholder:"在这里输入内容...",required:"required"}}),e._v(" "),n("br"),e._v(" "),n("label",{attrs:{for:"businessTime"}},[e._v("营业时间:")]),e._v(" "),n("input",{attrs:{type:"text",name:"businessTime",id:"businessTime",placeholder:"格式为(9:00-17:00)",required:"required"}}),e._v(" "),n("br"),e._v(" "),n("label",{attrs:{for:"phone"}},[e._v("电       话:")]),e._v(" "),n("input",{attrs:{type:"text",name:"phone",id:"phone",required:"required"}}),e._v(" "),n("br"),e._v(" "),n("label",{attrs:{for:"reminder"}},[e._v("温馨提示:")]),e._v(" "),n("textarea",{attrs:{id:"reminder",cols:"50",rows:"4",name:"reminder",placeholder:"在这里输入内容..."}}),e._v(" "),n("br"),e._v(" "),n("label",{attrs:{for:"discount"}},[e._v("优惠政策:")]),e._v(" "),n("textarea",{attrs:{id:"discount",cols:"50",rows:"4",name:"discount",placeholder:"在这里输入内容...",required:"required"}}),e._v(" "),n("br"),e._v(" "),n("label",{attrs:{for:"busMessage"}},[e._v("公交线路:")]),e._v(" "),n("textarea",{attrs:{id:"busMessage",cols:"50",rows:"4",name:"busMessage",placeholder:"在这里输入内容..."}}),e._v(" "),n("br"),e._v(" "),n("label",{attrs:{for:"selfRoute"}},[e._v("自驾线路:")]),e._v(" "),n("textarea",{attrs:{id:"selfRoute",cols:"50",rows:"4",name:"selfRoute",placeholder:"在这里输入内容..."}}),e._v(" "),n("br"),e._v(" "),n("hr"),e._v(" "),n("ul",{staticClass:"pic"}),e._v(" "),n("label",{attrs:{for:"file"}},[e._v("上传图片:")]),e._v(" "),n("input",{attrs:{type:"file",name:"file",multiple:"multiple",required:"required",id:"file"}}),e._v(" "),n("br"),e._v(" "),n("label",{attrs:{for:"staffId"}},[e._v("业务人员:")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.form.staffName,expression:"form.staffName"}],attrs:{id:"staff",name:"staffId"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.form,"staffName",t.target.multiple?n:n[0])}}}),e._v(" "),n("br"),e._v(" "),n("label",{attrs:{for:"province"}},[e._v("所属省份:")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.form.province,expression:"form.province"}],attrs:{id:"province",name:"province"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.form,"province",t.target.multiple?n:n[0])}}},[n("option",[e._v("山西")])]),e._v(" "),n("br"),e._v(" "),n("label",{attrs:{for:"city"}},[e._v("所属城市:")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.form.city,expression:"form.city"}],attrs:{id:"city",name:"city"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.form,"city",t.target.multiple?n:n[0])}}},[n("option",[e._v("山西")])]),e._v(" "),n("br"),e._v(" "),n("label",{attrs:{for:"sort"}},[e._v("景区排序:")]),e._v(" "),n("input",{attrs:{id:"sort",type:"number",name:"sort",required:"required",placeholder:"请输入0,1,2...的数字值"}}),e._v(" "),n("br"),e._v(" "),n("input",{attrs:{type:"button",value:"提 交",id:"button"},on:{click:e.button}})],1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"map"},[n("div",[n("b",[e._v("经度：")]),n("input",{attrs:{type:"text",name:"lng",id:"lng",disabled:"",required:"required"}}),n("b",[e._v("纬度：")]),n("input",{attrs:{type:"text",name:"lat",id:"lat",disabled:"",required:"required"}})])])}]}},1092:function(e,t,n){var r=n(750);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(197)("3064925d",r,!0)},524:function(e,t,n){n(1092);var r=n(198)(n(619),n(1062),"data-v-fb8578e2",null);e.exports=r.exports},532:function(e,t,n){"use strict";t.a={apidomain:"http://192.168.1.109:8080/TicketSales"}},534:function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=a(t),this.reject=a(n)}var a=n(200);e.exports.f=function(e){return new r(e)}},536:function(e,t,n){e.exports={default:n(546),__esModule:!0}},537:function(e,t,n){var r=n(136),a=n(49)("toStringTag"),i="Arguments"==r(function(){return arguments}()),o=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=o(t=Object(e),a))?n:i?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},538:function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},539:function(e,t,n){var r=n(65),a=n(66),i=n(534);e.exports=function(e,t){if(r(e),a(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},540:function(e,t,n){var r=n(65),a=n(200),i=n(49)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[i])?t:a(n)}},541:function(e,t,n){var r,a,i,o=n(201),s=n(549),c=n(203),l=n(137),u=n(33),f=u.process,d=u.setImmediate,p=u.clearImmediate,v=u.MessageChannel,h=u.Dispatch,m=0,_={},g=function(){var e=+this;if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},b=function(e){g.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return _[++m]=function(){s("function"==typeof e?e:Function(e),t)},r(m),m},p=function(e){delete _[e]},"process"==n(136)(f)?r=function(e){f.nextTick(o(g,e,1))}:h&&h.now?r=function(e){h.now(o(g,e,1))}:v?(a=new v,i=a.port2,a.port1.onmessage=b,r=o(i.postMessage,i,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",b,!1)):r="onreadystatechange"in l("script")?function(e){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),g.call(e)}}:function(e){setTimeout(o(g,e,1),0)}),e.exports={set:d,clear:p}},543:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(536),a=n.n(r),i=n(545),o=n(544);t.default={props:["lat","lng"],data:function(){return{searchKey:"",placeSearch:null,dragStatus:!1,AMapUI:null,AMap:null}},watch:{searchKey:function(){""===this.searchKey&&this.placeSearch.clear()}},methods:{handleSearch:function(){this.searchKey&&this.placeSearch.search(this.searchKey)},initMap:function(){var e=this,t=this.AMapUI=window.AMapUI,n=this.AMap=window.AMap;t.loadUI(["misc/PositionPicker"],function(t){var r={zoom:16,cityName:o.a};e.lat&&e.lng&&(r.center=[e.lng,e.lat]);var a=new n.Map("js-container",r);n.service("AMap.PlaceSearch",function(){e.placeSearch=new n.PlaceSearch({pageSize:5,pageIndex:1,citylimit:!0,city:o.a,map:a,panel:"js-result"})}),n.plugin(["AMap.ToolBar"],function(){a.addControl(new n.ToolBar({position:"RB"}))});var i=new t({mode:"dragMap",map:a});i.on("success",function(t){e.dragStatus?e.$emit("drag",t):e.dragStatus=!0}),i.start()})}},created:function(){var e=this;window.AMap&&window.AMapUI?this.initMap():a.a.all([n.i(i.a)("http://webapi.amap.com/maps?v=1.3&key="+o.b),n.i(i.a)("http://webapi.amap.com/ui/1.0/main.js")]).then(function(){e.initMap()})}}},544:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var r="cfd8da5cf010c5f7441834ff5e764f5b",a="西安"},545:function(e,t,n){"use strict";function r(e,t){function n(e){document.body.removeChild(e)}return function(e){var r=document.createElement("script");document.body.appendChild(r);var a=new i.a(function(e,a){r.addEventListener("load",function(a){n(r),t||e(a)},!1),r.addEventListener("error",function(e){n(r),a(e)},!1),t&&(window.____callback____=function(){e(),window.____callback____=null})});return t&&(e+="&callback=____callback____"),r.src=e,a}(e)}t.a=r;var a=n(536),i=n.n(a)},546:function(e,t,n){n(205),n(206),n(207),n(557),n(558),n(559),e.exports=n(64).Promise},547:function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},548:function(e,t,n){var r=n(201),a=n(551),i=n(550),o=n(65),s=n(204),c=n(556),l={},u={},t=e.exports=function(e,t,n,f,d){var p,v,h,m,_=d?function(){return e}:c(e),g=r(n,f,t?2:1),b=0;if("function"!=typeof _)throw TypeError(e+" is not iterable!");if(i(_)){for(p=s(e.length);p>b;b++)if((m=t?g(o(v=e[b])[0],v[1]):g(e[b]))===l||m===u)return m}else for(h=_.call(e);!(v=h.next()).done;)if((m=a(h,g,v.value,t))===l||m===u)return m};t.BREAK=l,t.RETURN=u},549:function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},550:function(e,t,n){var r=n(89),a=n(49)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[a]===e)}},551:function(e,t,n){var r=n(65);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},552:function(e,t,n){var r=n(49)("iterator"),a=!1;try{var i=[7][r]();i.return=function(){a=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var i=[7],o=i[r]();o.next=function(){return{done:n=!0}},i[r]=function(){return o},e(i)}catch(e){}return n}},553:function(e,t,n){var r=n(33),a=n(541).set,i=r.MutationObserver||r.WebKitMutationObserver,o=r.process,s=r.Promise,c="process"==n(136)(o);e.exports=function(){var e,t,n,l=function(){var r,a;for(c&&(r=o.domain)&&r.exit();e;){a=e.fn,e=e.next;try{a()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){o.nextTick(l)};else if(i){var u=!0,f=document.createTextNode("");new i(l).observe(f,{characterData:!0}),n=function(){f.data=u=!u}}else if(s&&s.resolve){var d=s.resolve();n=function(){d.then(l)}}else n=function(){a.call(r,l)};return function(r){var a={fn:r,next:void 0};t&&(t.next=a),e||(e=a,n()),t=a}}},554:function(e,t,n){var r=n(52);e.exports=function(e,t,n){for(var a in t)n&&e[a]?e[a]=t[a]:r(e,a,t[a]);return e}},555:function(e,t,n){"use strict";var r=n(33),a=n(64),i=n(51),o=n(50),s=n(49)("species");e.exports=function(e){var t="function"==typeof a[e]?a[e]:r[e];o&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function(){return this}})}},556:function(e,t,n){var r=n(537),a=n(49)("iterator"),i=n(89);e.exports=n(64).getIteratorMethod=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||i[r(e)]}},557:function(e,t,n){"use strict";var r,a,i,o,s=n(90),c=n(33),l=n(201),u=n(537),f=n(88),d=n(66),p=n(200),v=n(547),h=n(548),m=n(540),_=n(541).set,g=n(553)(),b=n(534),y=n(538),w=n(539),x=c.TypeError,M=c.process,P=c.Promise,C="process"==u(M),j=function(){},S=a=b.f,T=!!function(){try{var e=P.resolve(1),t=(e.constructor={})[n(49)("species")]=function(e){e(j,j)};return(C||"function"==typeof PromiseRejectionEvent)&&e.then(j)instanceof t}catch(e){}}(),k=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},A=function(e,t){if(!e._n){e._n=!0;var n=e._c;g(function(){for(var r=e._v,a=1==e._s,i=0;n.length>i;)!function(t){var n,i,o=a?t.ok:t.fail,s=t.resolve,c=t.reject,l=t.domain;try{o?(a||(2==e._h&&$(e),e._h=1),!0===o?n=r:(l&&l.enter(),n=o(r),l&&l.exit()),n===t.promise?c(x("Promise-chain cycle")):(i=k(n))?i.call(n,s,c):s(n)):c(r)}catch(e){c(e)}}(n[i++]);e._c=[],e._n=!1,t&&!e._h&&E(e)})}},E=function(e){_.call(c,function(){var t,n,r,a=e._v,i=I(e);if(i&&(t=y(function(){C?M.emit("unhandledRejection",a,e):(n=c.onunhandledrejection)?n({promise:e,reason:a}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",a)}),e._h=C||I(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},I=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if(t=n[r++],t.fail||!I(t.promise))return!1;return!0},$=function(e){_.call(c,function(){var t;C?M.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},q=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),A(t,!0))},N=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw x("Promise can't be resolved itself");(t=k(e))?g(function(){var r={_w:n,_d:!1};try{t.call(e,l(N,r,1),l(q,r,1))}catch(e){q.call(r,e)}}):(n._v=e,n._s=1,A(n,!1))}catch(e){q.call({_w:n,_d:!1},e)}}};T||(P=function(e){v(this,P,"Promise","_h"),p(e),r.call(this);try{e(l(N,this,1),l(q,this,1))}catch(e){q.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(554)(P.prototype,{then:function(e,t){var n=S(m(this,P));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=C?M.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&A(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=l(N,e,1),this.reject=l(q,e,1)},b.f=S=function(e){return e===P||e===o?new i(e):a(e)}),f(f.G+f.W+f.F*!T,{Promise:P}),n(91)(P,"Promise"),n(555)("Promise"),o=n(64).Promise,f(f.S+f.F*!T,"Promise",{reject:function(e){var t=S(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!T),"Promise",{resolve:function(e){return w(s&&this===o?P:this,e)}}),f(f.S+f.F*!(T&&n(552)(function(e){P.all(e).catch(j)})),"Promise",{all:function(e){var t=this,n=S(t),r=n.resolve,a=n.reject,i=y(function(){var n=[],i=0,o=1;h(e,!1,function(e){var s=i++,c=!1;n.push(void 0),o++,t.resolve(e).then(function(e){c||(c=!0,n[s]=e,--o||r(n))},a)}),--o||r(n)});return i.e&&a(i.v),n.promise},race:function(e){var t=this,n=S(t),r=n.reject,a=y(function(){h(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return a.e&&r(a.v),n.promise}})},558:function(e,t,n){"use strict";var r=n(88),a=n(64),i=n(33),o=n(540),s=n(539);r(r.P+r.R,"Promise",{finally:function(e){var t=o(this,a.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},559:function(e,t,n){"use strict";var r=n(88),a=n(534),i=n(538);r(r.S,"Promise",{try:function(e){var t=a.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},560:function(e,t,n){t=e.exports=n(87)(void 0),t.push([e.i,".m-map{min-width:500px;min-height:300px;position:relative}.m-map .map{width:100%;height:100%}.m-map .search{position:absolute;top:10px;left:10px;width:285px;z-index:1}.m-map .search input{width:180px;border:1px solid #ccc;line-height:20px;padding:5px;outline:none}.m-map .search button{line-height:26px;background:#fff;border:1px solid #ccc;width:50px;text-align:center}.m-map .result{max-height:300px;overflow:auto;margin-top:10px}",""])},564:function(e,t,n){n(566);var r=n(198)(n(543),n(565),null,null);e.exports=r.exports},565:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"m-map"},[e.placeSearch?n("div",{staticClass:"search"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchKey,expression:"searchKey"}],attrs:{type:"search",placeholder:"请输入景区名称"},domProps:{value:e.searchKey},on:{input:function(t){t.target.composing||(e.searchKey=t.target.value)}}}),e._v(" "),n("button",{attrs:{type:"button"},on:{click:e.handleSearch}},[e._v("搜索")]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.searchKey,expression:"searchKey"}],staticClass:"result",attrs:{id:"js-result"}})]):e._e(),e._v(" "),n("div",{staticClass:"map",attrs:{id:"js-container"}})])},staticRenderFns:[]}},566:function(e,t,n){var r=n(560);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(197)("580f123c",r,!0)},619:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(199),a=n.n(r),i=n(532),o=n(564),s=n.n(o),c=n(202),l=n.n(c);t.default={components:{mapDrag:s.a},data:function(){return{power:!1,dialogImageUrl:"",dialogVisible:!1,urls:i.a.apidomain+"/view/add.action",fileList:[],currentPage:1,dragData:{lng:null,lat:null,address:null},form:{lng:"",lat:"",name:"",type:"",level:"",remark:"",address:"",businessTime:"",phone:"",reminder:"",discount:"",busMessage:"",selfRoute:"",file:"",staff:"",staffId:"",staffName:"",province:"",city:"",sort:"",fileList:[]},viewType:[],viewLevel:[],staff:[],province:[],city:[],maxSize:307200,files:[],piclists:[]}},created:function(){this.getAddress(),this.getdatas(),this.map(),this.getPowerId()},methods:{getPowerId:function(){var e=JSON.parse(window.sessionStorage.getItem("powerId"));0==e?this.power=!0:1==e?this.power=!1:this.$router.push({path:"/login"})},getdatas:function(){var e="",t="",n="",r="",a="";l()(function(){l.a.ajax({type:"get",url:i.a.apidomain+"/view/addUI.action",dataType:"json",success:function(i){i.data.viewType.forEach(function(t){e+="<option>"+t+"</option>"},this),l()("#type").html(e),i.data.viewLevel.forEach(function(e){t+="<option>"+e+"</option>"},this),l()("#level").html(t),i.data.staff.forEach(function(e){n+="<option value="+e.id+">"+e.name+"</option>"},this),l()("#staff").html(n),i.data.viewProvince.forEach(function(e){r+="<option>"+e+"</option>"},this),l()("#province").html(r),i.data.viewCity.forEach(function(e){a+="<option>"+e+"</option>"},this),l()("#city").html(a)}})})},map:function(){var e,t=this.$route.query.id;l()(function(){l.a.ajax({type:"get",url:i.a.apidomain+"/view/editUI.action?id="+t,dataType:"json",success:function(t){console.log(t.data.pic),t.data.pic.forEach(function(t,n){console.log(t),e+="<li><img id='pics' src="+t+"></li>"}),console.log(e),this.piclists=t.data.pic,l()("#id").val(t.data.id),l()("#name").val(t.data.name),l()("#lng").val(t.data.lng),l()("#lat").val(t.data.lat),l()("#remark").val(t.data.remark),l()("#address").val(t.data.address),l()("#businessTime").val(t.data.businessTime),l()("#phone").val(t.data.phone),l()("#reminder").val(t.data.reminder),l()("#discount").val(t.data.discount),l()("#busMessage").val(t.data.busMessage),l()("#selfRoute").val(t.data.selfRoute),l()("#sort").val(t.data.sort)}})})},button:function(){if(""==l()("#name").val())this.$message({showClose:!0,message:"景区名称不能有空",type:"warning"});else if(""==l()("#remark").val())this.$message({showClose:!0,message:"景区简介不能有空",type:"warning"});else if(""==l()("#address").val())this.$message({showClose:!0,message:"地址不能有空",type:"warning"});else if(""==l()("#businessTime").val())this.$message({showClose:!0,message:"营业时间不能有空",type:"warning"});else if(""==l()("#phone").val())this.$message({showClose:!0,message:"电话不能有空",type:"warning"});else if(""==l()("#discount").val())this.$message({showClose:!0,message:"优惠政策不能有空",type:"warning"});else if(""==l()("#sort").val())this.$message({showClose:!0,message:"景区排序不能有空",type:"warning"});else{var e=new FormData(document.getElementById("forms"));l.a.ajax({url:i.a.apidomain+"/view/edit.action?id="+l()("#id").val(),type:"post",data:e,processData:!1,contentType:!1,success:function(e){},error:function(e){console.log(e)}}),this.$message({showClose:!0,message:"恭喜你，新增成功~,请点击最后一页查看新增数据~",type:"success"}),this.$router.push({path:"./SceneryManage"})}},dragMap:function(e){l()("#lng").val(e.position.lng),l()("#lat").val(e.position.lat),this.dragData={lng:e.position.lng,lat:e.position.lat,address:e.address}},submitUpload:function(){console.log("点击提交了"),this.$refs.upload.submit()},handlePreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0,console.log(e),console.log(e.name),console.log(e.url)},handleSuccess:function(e,t,n){console.log("上传成功的回调"),console.log(e),console.log(t),console.log(n),this.form.fileList=n},handlEerror:function(e,t,n){console.log(e),console.log(t),console.log(n)},handlChange:function(e,t){this.form.lng=this.dragData.lng,this.form.lat=this.dragData.lat},handlBefore:function(e){},haha:function(){console.log("覆盖默认的上传行为，可以自定义上传的实现")},resetForm:function(e){this.$refs[e].resetFields()},getAddress:function(){var e=this;a.a.get(i.a.apidomain+"/view/editUI.action?id="+this.$route.query.id).then(function(t){e.form.type=t.data.data.type,e.form.level=t.data.data.level,e.form.staffName=t.data.data.staffName,e.form.province=t.data.data.province,e.form.city=t.data.data.city})},handleChange1:function(e){this.form.type=e},handleChange2:function(e){this.form.level=e},handleChange3:function(e){this.form.staffId=e.id,this.form.staffName=e.name},handleChange4:function(e){this.form.province=e},handleChange5:function(e){this.form.city=e},onSubmit:function(e){console.log(1111),console.log(this.form),console.log(this.form.file)}}}},750:function(e,t,n){t=e.exports=n(87)(void 0),t.push([e.i,".form-box[data-v-fb8578e2]{width:50%}.map[data-v-fb8578e2]{width:100%;height:33px;border:1px solid #ccc;margin-bottom:10px}.m-part .mapbox[data-v-fb8578e2]{border:1px solid #ccc;width:100%;height:300px;margin-bottom:10px;float:left}label[data-v-fb8578e2]{width:100px}#button[data-v-fb8578e2]{width:90px;background-color:#1fa0ff;height:35px;color:#fff;border-radius:5px;border:none;margin-top:5px;cursor:pointer}#forms[data-v-fb8578e2]{width:60%}input[data-v-fb8578e2],select[data-v-fb8578e2]{width:300px;height:25px;margin-top:5px;margin-bottom:5px}.pic li[data-v-fb8578e2]{display:inline-block}.pic span img[data-v-fb8578e2],li[data-v-fb8578e2]{width:100px;height:100px}li[data-v-fb8578e2]{list-style:none}.pic #pics[data-v-fb8578e2]{width:10px!important;height:10px}",""])}});